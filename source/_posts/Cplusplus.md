---
title: C++实践记录
date: 2021-03-23 19:32:35
tags:
- C++
categories:
- 工作实践
---

# 学习记录

C语言和C++有什么区别和联系？
`<>`引用系统头文件
`""`引用用户头文件
多个程序包含同一个头文件，而不用注重引用顺序。
```C++
//防卫式声明
#ifdef __COMPLEX__
#define __COMPLEX__


# endif
```

## 基础入门

## 基础进阶

### 数组

### 函数

### 指针

**作用**：间接访问内存，可以通过指针来保存一个地址，指针就是地址。

**语法**：`数据类型 * 指针变量名;`

指针前加 * 号，表示解引用，找到指针指向的内存中的数据。

指针所占的内存空间：

`int *p; //在32位系统中，占用4个字节空间；在64位系统中，占用8个字节空间。`

指针不论是什么类型，其所占内存空间都是4(或8)个字节。

**空指针**：指针变量指向内存中编号为0（NULL）的空间，用于初始化指针变量。

*注意：空指针所指向的内存地址是不可以访问的。*

**野指针**：指针指向非法的内存空间。

空指针和野指针都不是我们申请的空间，因此不要访问。

**const修饰指针**：

1. const修饰指针：常量指针，`const int * p=&a;`

特点：指针的指向可以修改，但是指针指向的值不可以改

* `*p=20;`（错，指针指向的值不可以改）

* `p=&b;`（对，指针指向可以改）

2. const修饰常量：指针常量，`int * const p=&a;`

特点：指针的指向不可修改，但是指针指向的值可以改

* `*p=20;`（对，指向的值可以改）

* `p=&b;`（错，指针的指向不可修改）

3. `const int * const p=&a;`

特点：指针指向和指针指向的值都不可修改

* `*p=20;`（错，指向的值不可修改）

* `p=&b;`（错，指针的指向不可修改）

### 结构体

## 核心编程

### 内存分区模型

* 代码区，存放二进制代码

* 全局区，存放全局变量、静态变量、常量

* 栈区，编译器自动释放，存放函数的参数值，局部变量值

* 堆区，由程序员分配和释放，若不释放，操作系统将会自动回收

### 引用

**作用**：给变量起别名

**语法**：`数据类型 &别名=原名;`

> **注意事项**
>
> 1. 引用必须要初始化
    > `int &b;`   //不合法`
    >
    > `int &b=a;` //合法
> 
> 2. 引用初始化后就不能更改了
    > `int &b=a;` //合法
    >
    > `int &b=c;` //不合法，不能脚踏两只船

**引用作函数参数**
作用：使用引用来以形参更改实参
优点：简化指针，代替地址传递

**引用作函数的返回值**
如果函数的返回值是引用，这个函数就可以作为左值，相当于一个变量。

**引用的本质**
引用在C++中的内部实现是一个**指针常量**。
引用一旦初始化后就不能做改变。int * const b=&a;

**常量引用**
作用：修饰形参，防止误操作。

### 函数提高（函数重载）

**函数的默认值**
**语法**：返回值类型 函数名(参数=默认值){}
如果我们自己传入数据，就用自己的数据，如果没有，那么就用默认值

注意事项：
1、如果某个位置已经有了默认参数，那么这个位置之后的，从左往右都必须要有默认值
2、如果函数的声明有了默认参数，那么这个函数的实现就不能有默认参数；声明和实现中的默认参数只能有一个。

**函数占位参数**
C++形参中可以有占位参数（只填数据类型），但是调用函数时必须填补位置值
语法：返回值类型 函数名(数据类型){}

* 目前阶段的占位参数还无法使用，之后会进行介绍。

* 占位参数还可以有默认参数

**函数重载**

**作用**：相同函数名，根据调用的参数选择合适的函数执行，提高复用性。

函数重载满足条件：

1. 同一作用域下（全局函数/成员函数……）
2. 函数名相同
3. 函数参数 **类型不同/个数不同/顺序不同**

注意事项：

* 函数的返回值不可作为函数重载的条件
* 引用作为重载条件
* 函数重载和函数的默认参数

### 类和对象

> C++面向对象三大特性：**封装、继承、多态**

#### 封装

* 将属性和行为作为一个整体，表现生活中的事物

* 将属性和行为加以权限控制，访问权限有三种：
  1. 公共权限  public     成员在类内、外都可以访问
  2. 保护权限  protected  成员在类内可以访问，类外不可以访问 儿子可以访问父亲的保护内容
  3. 私有权限  private    成员在类内可以访问，类外不可以访问 儿子不可以访问父亲的隐私内容

* struct 和 class的区别

    * struct 默认权限为公有

    * class 默认权限为私有

#### 继承

#### 多态

# 实践

socket通信，局域网聊天室，传输Mat图片